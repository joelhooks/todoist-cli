"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.customCamelCase = customCamelCase;
exports.camelCaseKeys = camelCaseKeys;
exports.snakeCaseKeys = snakeCaseKeys;
const camelcase_1 = __importDefault(require("camelcase"));
const emoji_regex_1 = __importDefault(require("emoji-regex"));
/**
 * Checks if a string is a solitary emoji
 */
function isEmojiKey(input) {
    const regex = (0, emoji_regex_1.default)();
    const match = input.match(regex);
    return match !== null && match.join('') === input;
}
/**
 * Custom camelCase function that preserves emoji strings
 */
function customCamelCase(input) {
    // If the value is a solitary emoji string, return the key as-is
    if (isEmojiKey(input)) {
        return input;
    }
    return (0, camelcase_1.default)(input);
}
/**
 * Converts object keys from snake_case to camelCase recursively
 */
function camelCaseKeys(obj) {
    if (obj === null || obj === undefined) {
        return obj;
    }
    if (Array.isArray(obj)) {
        return obj.map((item) => camelCaseKeys(item));
    }
    if (typeof obj === 'object' && obj.constructor === Object) {
        const converted = {};
        for (const [key, value] of Object.entries(obj)) {
            const camelKey = customCamelCase(key);
            converted[camelKey] = camelCaseKeys(value);
        }
        return converted;
    }
    return obj;
}
/**
 * Converts object keys from camelCase to snake_case recursively
 */
function snakeCaseKeys(obj) {
    if (obj === null || obj === undefined) {
        return obj;
    }
    if (Array.isArray(obj)) {
        return obj.map((item) => snakeCaseKeys(item));
    }
    if (typeof obj === 'object' && obj.constructor === Object) {
        const converted = {};
        for (const [key, value] of Object.entries(obj)) {
            // Convert camelCase to snake_case
            const snakeKey = key.replace(/([A-Z])/g, '_$1').toLowerCase();
            converted[snakeKey] = snakeCaseKeys(value);
        }
        return converted;
    }
    return obj;
}
